<!doctype html>
<!--
uViewer
Copyright © Artur Yakimovich, PhD, 2016-2017.
HTML5, JavaScript, D3 based Figure viewer for high definition microscopy images.
MIT License.
NB: relies on a working internet connection for the libraries.
-->
<html>
<head>
  <title>uViewer - interactive viewer for multichannel superresolution micrscopy</title>

  <link rel="shortcut icon" href="data:image/png;base64,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
  0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvy
  F1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hC
  epkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmd
  lV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0m
  ek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeL
  Z5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7
  z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZz
  G4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fy
  z4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nue
  r21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89
  HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xm
  v28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5
  /wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAAllJREFUeNq8102ITWEYB/DfHXfGxghDmmbho2HUZEOElAVSk8hOYWGJlZqys
  LO2kLKRsFGKhYWIDaJhykfUWFiomfGxkDEMMSZzbJ6r2517z73nTsdbb6fzvOc8///zvs/XK0kSSZLIcXSgp1L4D/c/ELiABC
  fQFrLC/yAwF2cCvDRHsDPvHShgES5WgJfmbSzJk0AfHtYAH8XyPHegBy9rgL9DV55OuBlPMV4FfBxr8oyCAzWsLs1dswnDDVi
  Wst6Nrynge6v9lIXA8VB0tIbHP4j16QrgSWyvpTTrEfRhCp/LsloLbqRYvj9NYTM+MAf3Q3kX+lPA++spm40TrsVwCvjpRpTM
  hsBW/KgBfq5RJc0SOJJi+cksVjRD4FgK+K2siSMrgW34WQX4dzwv5U1gsIblV6K8JuEbuRHoxOUK8CHMi/XnGMjbB5Q1GKPRa
  pXGnpB3500AerG+inwY17ISKDZR+Ybi2YrF+BjvI/hV9l1btGUTacqKddYOYWO0WK/wHVtCeSt24DXuRMX8gN3x/TjuNn4WM0
  c7vtWp82lzsBHcljopt72BI5nGnyrysUbOs1in+j0uywFTUQUHsABL8SJ6wKtRH07Ff0vxJFs4ND/O4nzembDapeMwnkU21Cy
  BQgm8UCjMwSasiN59KkLrS2x5b/R+RRyM93ux7evwBu/j7CfKQnU82rMZBCqPoAM3M3r6WGTFP/gUBetthGMS98KGE9H8sDTL
  WBhTJCWxg+XJqOEo2IdVeBTWtJV1uqtDXogLxmQkpbGwujMMmAh5EStxvR6BvwMAzYYNeIWwSOMAAAAASUVORK5CYII="/>
  <!-- external libraries begin -->
  <script src="http://d3js.org/d3.v3.min.js" type="text/javascript"></script>
  <script type="text/javascript" src="http://canvg.github.io/canvg/rgbcolor.js"></script> 
  <script type="text/javascript" src="http://canvg.github.io/canvg/StackBlur.js"></script>
  <script type="text/javascript" src="http://canvg.github.io/canvg/canvg.js"></script> 
  <!-- external libraries end -->
  <script type="text/javascript" src="js/saveSvgAsPng.js"></script>
  <script src="js/initialize.js"></script>
  <script src="js/labels.js"></script>
  <script src="js/uViewer.js"></script>
  <script src="js/save.js"></script>
  <link rel="stylesheet" href="https://unpkg.com/purecss@0.6.1/build/pure-min.css" integrity="sha384-CCTZv2q9I9m3UOxRLaJneXrrqKwUNOzZ6NGEUMwHtShDJ+nCoiXJCAgi05KfkLGY" crossorigin="anonymous"/>
  <!--[if lte IE 8]>
          <link rel="stylesheet" href="https://unpkg.com/purecss@0.6.1/build/grids-responsive-old-ie-min.css">
      <![endif]-->
  <!--[if gt IE 8]><!-->
  <link rel="stylesheet" href="https://unpkg.com/purecss@0.6.1/build/grids-responsive-min.css">
  <!--<![endif]-->
  <link rel="stylesheet" href="css/main.css">
</head>
<!--<body onload="uViewer()">-->
<body>
  <div class="pure-g">
    <!--<div class="pure-u-2-3"></div>-->
    <div class="pure-u-2-5">
      <img src="img/uViewer_icon.svg" width="150" alt="uViewer.js" height="180" class="logo">
    </div>
    <div class="pure-u-3-5"><h1>uViewer.js</h1><h2>interactive viewer for multichannel superresolution microscopy</h2><h4>v0.11</h4></div>
  </div>
  <div class="pure-g">
    <div class="pure-u-1">
      <form class="pure-form pure-form-stacked" method ="GET" action="">
        <fieldset>
            <legend><br><br>Settings</legend>

            <div class="pure-g">
                <div class="pure-u-1 pure-u-md-1-3">
                    <label for="imageFolderPath">Path to image folder (local or remote)</label>
                    <input id="imageFolderPath" class="pure-u-23-24" type="text" value="img/">
                </div>

                <div class="pure-u-1 pure-u-md-1-3">
                    <label for="canvasWidth">Canvas width</label>
                    <input id="canvasWidth" class="pure-u-23-24" type="text" value=1200>
                </div>

                <div class="pure-u-1 pure-u-md-1-3">
                    <label for="scaleBarWidth">Scale bar width (µm)</label>
                    <input id="scaleBarWidth" class="pure-u-23-24" type="text" value=20>
                </div>

                <div class="pure-u-1 pure-u-md-1-3">
                    <label for="rgbImageName">RGB image name</label>
                    <input id="rgbImageName" class="pure-u-23-24" type="text" value="RGB.png">
                </div>

                <div class="pure-u-1 pure-u-md-1-3">
                    <label for="pxToMicronRatio">Pixel-to-µm ratio</label>
                    <input id="imageFolderPath" class="pure-u-23-24" type="text" value=31.015>
                </div>

                <div class="pure-u-1 pure-u-md-1-3">
                    <label for="treatmentLabel">Treatment</label>
                    <input id="treatmentLabel" class="pure-u-23-24" type="text" value="Drug X">
                </div>

                <div class="pure-u-1 pure-u-md-1-2">
                    <label for="redImageName" style="color: red;">Red image name</label>
                    <input id="redImageName" class="pure-u-23-24" type="text" value="red.png">
                </div>

                <div class="pure-u-1 pure-u-md-1-2">
                    <label for="redStainingLabel" style="color: red;">Red staining label</label>
                    <input id="redStainingLabel" class="pure-u-23-24" type="text" value="antibody 1">
                </div>

                <div class="pure-u-1 pure-u-md-1-2">
                    <label for="greenImageName" style="color: green;">Green image name</label>
                    <input id="greenImageName" class="pure-u-23-24" type="text" value="green.png">
                </div>

                <div class="pure-u-1 pure-u-md-1-2">
                    <label for="greenStainingLabel" style="color: green;">Green staining label</label>
                    <input id="greenStainingLabel" class="pure-u-23-24" type="text" value="antibody 2">
                </div>

                <div class="pure-u-1 pure-u-md-1-2">
                    <label for="blueImageName" style="color: blue;">Blue image name</label>
                    <input id="blueImageName" class="pure-u-23-24" type="text" value="blue.png">
                </div>

                <div class="pure-u-1 pure-u-md-1-2">
                    <label for="blueStainingLabel" style="color: blue;">Blue staining label</label>
                    <input id="blueStainingLabel" class="pure-u-23-24" type="text" value="antibody 3">
                </div>

                <div class="pure-u-1 pure-u-md-1-2">
                    <label for="grayImageName" style="color: gray;">Gray image name</label>
                    <input id="grayImageName" class="pure-u-23-24" type="text" value="gray.png">
                </div>

                <div class="pure-u-1 pure-u-md-1-2">
                    <label for="grayStainingLabel" style="color: gray;">Gray staining label</label>
                    <input id="grayStainingLabel" class="pure-u-23-24" type="text" value="antibody 4">
                </div>

            </div>


            <a class="pure-button pure-button-primary" id="submitButton" onclick="uViewer()">Apply</a>
        </fieldset>
      </form>
    </div>
  </div>

  <div class="pure-g">
    <div class="pure-u-1" id="svgDiv">
      <p></p><svg></svg>
    </div>
  </div>
  <div class="pure-g">
    <div class="pure-u-1-4" id="generateSVGButtonDiv"><a></a></div>
    <div class="pure-u-1-4" id="saveSVGButtonDiv"><a id="svg_a"></a></div>
    <div class="pure-u-1-4" id="generatePNGButtonDiv"><a></a></div>
    <div class="pure-u-1-4" id="savePNGButtonDiv"><a id="png_a"></a></div>
  </div>

  <div class="pure-g">
    <div class="pure-u-1">
      <br><br>
      <h5 style="color: #C3C3C3; font-size: 10pt; font-family: Arial; text-align: center">Copyright &copy; 2016 - <script type="text/javascript">var year = new Date(); document.write(year.getFullYear());</script> Artur Yakimovich, PhD</h5>
    </div>
  </div>
</body>
</html>
